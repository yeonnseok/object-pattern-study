# chapter04. 재사용: 상속보단 조립
## 1. 상속과 재사용
### 상속을 통한 재사용의 단점 1. 상위 클래스 변경의 어려움
상속 계층을 따라 상위 클래스의 변경이 하위 클래스에 영향을 주기 때문에,
최악의 경우 상위 클래스의 변화가 모든 하위 클래스에 영향으 줄 수 있다.

이는 클래스들을 한 개의 거대한 단일 구조처럼 만들어 주는 결과를 초래한다.
이런 이유 때문에, 클래스 계층도가 커질수록, 상위 클래스를 변경하는 것은 점점 어려워진다.

### 상속을 통한 재사용의 단점 2. 클래스의 불필요한 증가
<img src="https://user-images.githubusercontent.com/42382027/77168794-c6a10b80-6afb-11ea-9a9a-0fc7f86b07b2.jpeg" width="400" height="250" />

이처럼 다중상속을 할 수 없는 자바에서는 필요한 기능의 조합이 증가할 수록
클래스의 개수는 함께 증가하게 된다.

### 상속을 통한 재사용의 단점 3. 상속의 오용
단순히 비슷한 기능의 메서드가 있다고 해서 해당 클래스를 상속하면 안된다.
상속은 IS-A 관계가 성립할 때만 사용해야 한다. 그렇지않으면 두 객체는 
원래 다른 책임을 갖고 있기 때문에 잘못된 사용으로 인한 문제가 발생할 수 있다.

## 2. 조립을 이용한 재사용
조립 방식을 사용하면 앞서 나온 불필요한 클래스 증식 문제를 해결해 줄 수 있다.
미리 기능으로 조합된 클래스를 가지고 기능을 요청하는 것이 아닌 필요한 기능을 그때 그때 조립해서 사용하는 것이다.

조립방식의 또 다른 장점은 런타임에 조립 대상 객체를 교체할 수 있다는 것이다.
그러나 상속의 경우에는 소스코드를 작성할 대 관계가 강하게 결합되어 있기 때문에 런타임에 상위클래스를 교체할 수 없다.

### 위임
위임(delegation)은 내가 할 일을 다른 객체에게 넘긴다는 의미를 담고 있으며, 보통 조립 방식을 이용해서 위임을 구현한다.
보통 위임은 조립과 마찬가지로 요청을 위임할 객체를 필드로 연결한다. 꼭 필드로 정의할 필요는 없다.
객체를 새로 생성해서 요청을 전달해도 위임이란 의미에서 벗어나지 않는다.

```java
public abstract class Figure {
    public boolean contains(Point point) {
        Bounds bounds = new Bounds(x, y, witdh, height);
        return bounds.contains(point.getX(), point.getY());
    }
}
```

> 객체 지향은 책임에 따라 객체등리 세분화되는 특징을 갖는다. 따라서 객체 지향적으로 구현을 하면 
> 자연스럽게 많은 객체들이 만들어지고, 이 과정에서 조립과 위임을 통해 객체를 사용하게 된다.


